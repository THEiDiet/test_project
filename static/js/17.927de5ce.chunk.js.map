{"version":3,"sources":["views/app-views/user-page/index.js"],"names":["withRouter","props","id","match","params","user","useSelector","state","users","find","useState","setState","avatarUrl","setAvaUrl","useEffect","name","username","email","address","street","suite","city","website","company","companyName","alignItems","mobileFlex","className","size","src","icon","onChange","info","key","file","status","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","getBase64","originFileObj","imageUrl","message","success","content","duration","loading","showUploadList","action","type","onClick","layout","initialValues","onFinish","values","setTimeout","onFinishFailed","errorInfo","console","log","xs","sm","md","lg","gutter","ROW_GUTTER","Item","label","rules","required","htmlType"],"mappings":"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","file":"static/js/17.927de5ce.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Avatar, Button, Col, Form, Input, message, Row, Upload} from \"antd\";\r\nimport Flex from \"../../../components/shared-components/Flex\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport {ROW_GUTTER} from \"../../../constants/ThemeConstant\";\r\nimport {fetchUsers} from \"../../../redux/actions\";\r\n\r\nconst UserPage = (props) => {\r\n    const id = props.match.params.id\r\n    const user = useSelector(state => state.users.users.find(user => user.id == id))\r\n    const [state, setState] = useState(user)\r\n    const avatarEndpoint = 'https://www.mocky.io/v2/5cc8019d300000980a055e76'\r\n    const [avatarUrl, setAvaUrl] = useState('/img/avatars/thumb-6.jpg')\r\n    useEffect(() => {\r\n        setState(user)\r\n    }, [user])\r\n    const getBase64 = (img, callback) => {\r\n        const reader = new FileReader();\r\n        reader.addEventListener('load', () => callback(reader.result));\r\n        reader.readAsDataURL(img);\r\n    }\r\n    const onUploadAvatar = info => {\r\n        const key = 'updatable';\r\n        if (info.file.status === 'uploading') {\r\n            message.loading({content: 'Uploading...', key, duration: 1000});\r\n            return;\r\n        }\r\n        if (info.file.status === 'done') {\r\n            getBase64(info.file.originFileObj, imageUrl =>\r\n                setAvaUrl(imageUrl),\r\n            );\r\n            message.success({content: 'Uploaded!', key, duration: 1.5});\r\n        }\r\n    }\r\n    const onRemoveAvatar = () => {\r\n        setAvaUrl('')\r\n    }\r\n    const onFinish = values => {\r\n        const key = 'updatable';\r\n        message.loading({content: 'Updating...', key});\r\n        setTimeout(() => {\r\n            setState({\r\n                name: values.name,\r\n                email: values.email,\r\n                username: values.username,\r\n                companyName: values.companyName,\r\n                website: values.website,\r\n                suite: values.suite,\r\n                city: values.city,\r\n                street: values.street,\r\n            })\r\n            message.success({content: 'Done!', key, duration: 2});\r\n        }, 1000);\r\n    }\r\n    const onFinishFailed = errorInfo => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    const {name, username, email, address: {street, suite, city}, website, company: {companyName = name}} = user\r\n\r\n    return <>\r\n            <Flex alignItems=\"center\" mobileFlex={false} className=\"text-center text-md-left\">\r\n                <Avatar size={90} src={avatarUrl} icon={<UserOutlined/>}/>\r\n                <div className=\"ml-md-3 mt-md-0 mt-3\">\r\n                    <Upload onChange={onUploadAvatar} showUploadList={false} action={avatarEndpoint}>\r\n                        <Button type=\"primary\">Change Avatar</Button>\r\n                    </Upload>\r\n                    <Button className=\"ml-2\" onClick={onRemoveAvatar}>Remove</Button>\r\n                </div>\r\n            </Flex>\r\n            <div className=\"mt-4\">\r\n                <Form\r\n                    name=\"basicInformation\"\r\n                    layout=\"vertical\"\r\n                    initialValues={\r\n                        {\r\n                            'name': name,\r\n                            'username': username,\r\n                            'email': email,\r\n                            'city': city,\r\n                            'street': street,\r\n                            'suite': suite,\r\n                            'website': website,\r\n                            'companyName': companyName,\r\n                        }\r\n                    }\r\n                    onFinish={onFinish}\r\n                    onFinishFailed={onFinishFailed}\r\n                >\r\n                    <Row>\r\n                        <Col xs={24} sm={24} md={24} lg={16}>\r\n                            <Row gutter={ROW_GUTTER}>\r\n                                <Col xs={24} sm={24} md={12}>\r\n                                    <Form.Item\r\n                                        label=\"Name\"\r\n                                        name=\"name\"\r\n                                        rules={[\r\n                                            {\r\n                                                required: true,\r\n                                                message: 'Please input your name!',\r\n                                            },\r\n                                        ]}\r\n                                    >\r\n                                        <Input/>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col xs={24} sm={24} md={12}>\r\n                                    <Form.Item\r\n                                        label=\"Username\"\r\n                                        name=\"username\"\r\n                                        rules={[\r\n                                            {\r\n                                                required: true,\r\n                                                message: 'Please input your username!'\r\n                                            },\r\n                                        ]}\r\n                                    >\r\n                                        <Input/>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col xs={24} sm={24} md={12}>\r\n                                    <Form.Item\r\n                                        label=\"Email\"\r\n                                        name=\"email\"\r\n                                        rules={[{\r\n                                            required: true,\r\n                                            type: 'email',\r\n                                            message: 'Please enter a valid email!'\r\n                                        }]}\r\n                                    >\r\n                                        <Input/>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col xs={24} sm={24} md={12}>\r\n                                    <Form.Item\r\n                                        label=\"City\"\r\n                                        name=\"city\"\r\n                                    >\r\n                                        <Input/>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col xs={24} sm={24} md={12}>\r\n                                    <Form.Item\r\n                                        label=\"Street\"\r\n                                        name=\"street\"\r\n                                    >\r\n                                        <Input/>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col xs={24} sm={24} md={24}>\r\n                                    <Form.Item\r\n                                        label=\"Suite\"\r\n                                        name=\"suite\"\r\n                                    >\r\n                                        <Input/>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col xs={24} sm={24} md={12}>\r\n                                    <Form.Item\r\n                                        label=\"Website\"\r\n                                        name=\"website\"\r\n                                    >\r\n                                        <Input/>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col xs={24} sm={24} md={12}>\r\n                                    <Form.Item\r\n                                        label=\"Company name\"\r\n                                        name=\"companyName\"\r\n                                    >\r\n                                        <Input/>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            </Row>\r\n                            <Button type=\"primary\" htmlType=\"submit\">\r\n                                Save Change\r\n                            </Button>\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n            </div>\r\n        </>\r\n};\r\n\r\nexport default withRouter(UserPage)"],"sourceRoot":""}